function $(a){return document.querySelectorAll(a)}var imgs=[{i:0,img:"images/index/banner_01.jpg"},{i:1,img:"images/index/banner_02.jpg"},{i:2,img:"images/index/banner_03.jpg"},{i:3,img:"images/index/banner_04.jpg"},{i:4,img:"images/index/banner_05.jpg"},];var slider={LIWIDTH:0,DURATION:500,STEPS:50,INTERVAL:0,moved:0,WAIT:3000,timer:null,canAuto:true,init:function(){var c=this;c.INTERVAL=c.DURATION/c.STEPS;c.LIWIDTH=parseFloat(getComputedStyle($("#slider")[0]).width);$("#imgs")[0].style.width=c.LIWIDTH*imgs.length+"px";for(var b=1,a=[];b<=imgs.length;b++){a[b]="<li>"+b+"</li>"}$("#indexs")[0].innerHTML=a.join("");$("#indexs>li:first-child")[0].className="hover";$("#indexs")[0].onmouseover=function(g){g=window.event||g;var f=g.target||g.srcElement;if(f.nodeName=="LI"&&f.className!="hover"){var d=$("#indexs>.hover")[0].innerHTML;c.move(f.innerHTML-d)}};$("#slider")[0].onmouseover=function(){c.canAuto=false};$("#slider")[0].onmouseout=function(){c.canAuto=true};c.updateView();c.autoMove()},updateView:function(){for(var b=0,a=[];b<imgs.length;b++){a[b]='<li><img src="'+imgs[b].img+'"></li>'}$("#imgs")[0].innerHTML=a.join("");$("#indexs>.hover")[0].className="";$("#indexs>li")[imgs[0].i].className="hover"},move:function(b){clearTimeout(this.timer);this.timer=null;if(b<0){imgs=imgs.splice(imgs.length-(-b),-b).concat(imgs);this.updateView();$("#imgs")[0].style.left=this.LIWIDTH*b+"px"}var a=this.LIWIDTH*b/this.STEPS;this.moveStep(b,a)},moveStep:function(c,a){var b=parseFloat(getComputedStyle($("#imgs")[0]).left);$("#imgs")[0].style.left=b-a+"px";this.moved++;if(this.moved<=this.STEPS){this.timer=setTimeout(this.moveStep.bind(this,c,a),this.INTERVAL)}else{this.moved=0;this.timer=null;$("#imgs")[0].style.left="";if(c>0){imgs=imgs.concat(imgs.splice(0,c));this.updateView()}this.autoMove()}},autoMove:function(){if(this.canAuto){this.timer=setTimeout(this.move.bind(this,1),this.WAIT)}else{clearTimeout(this.timer);this.timer=setTimeout(this.autoMove.bind(this),this.WAIT)}}};window.addEventListener("load",slider.init.bind(slider),false);